#!/usr/bin/python

import numpy as np
import matplotlib.pyplot as plt

alpha = np.arange(0.6, 1.41, 0.05)

# Data from AS 7018

#linkUsage7018Algo0= [0.026091025010726319, 0.022992900327023658, 0.023257359702085367, 0.02032970487083886, 0.019785289661203929, 0.020459323844544464, 0.019353411067439031, 0.016051384744617835, 0.018861365900048499, 0.011970829452976306, 0.018104638206874347, 0.010935187254608269, 0.01016608992127167, 0.01079432470917332, 0.0081754919072022595, 0.007346873641638085, 0.0046740179752535419]
#linkUsage7018Algo1= [0.033844553877060847, 0.031518591571126818, 0.027151917541395586, 0.027152920264813286, 0.033842552551089367, 0.032481077540032779, 0.021812863315544308, 0.02386780531881829, 0.020069091146740915, 0.01919632666809078, 0.015735329726574432, 0.015642634761652462, 0.015291200674422334, 0.01224446970416888, 0.0095066751649834028, 0.010344836697297789, 0.0075839603527866669]

linkUsage7018Algo0= [0.035624883308439471, 0.024081119323499111, 0.020708707139815742, 0.021843237918041759, 0.020784716448844498, 0.019213585452037087, 0.017797526157742181, 0.015556568828827055, 0.01656586782793331, 0.013992464385047221, 0.011348218224078855, 0.011907526003226443, 0.012346894893956717, 0.0078616758609941668, 0.0097234280758319858, 0.0065842592701735089, 0.0071929203668470668]
linkUsage7018Algo1= [0.032630061267178025, 0.03179288689725198, 0.035231961519703051, 0.030049426637061016, 0.028313795747978543, 0.027350759347344399, 0.02754720827825775, 0.02148630819391889, 0.02323221332907708, 0.018646505112442969, 0.016777624610930818, 0.016133680707614152, 0.012683091094202348, 0.012391422922395746, 0.0101812843309514, 0.0081663775056990181, 0.0076827128761890349]


linkUsage3356Algo0= [0.055941945277428504, 0.048182275838524323, 0.048254451619283267, 0.049905738184401506, 0.042382072865091124, 0.043332097503875261, 0.04467459130987074, 0.037019223749455411, 0.02945495379866343, 0.029994749374570594, 0.023133126927669511, 0.026941370165194378, 0.020405032944207278, 0.021162210330177844, 0.014057218371680846, 0.013202318059482387, 0.011432389181276138]
linkUsage3356Algo1= [0.057600947710551353, 0.050042066756268919, 0.049910678561095392, 0.050279708206833848, 0.049448575493503087, 0.044984155143272364, 0.043588491055391719, 0.040040113798137343, 0.034015822646367398, 0.032411143678113818, 0.028358099898385291, 0.02230784949610326, 0.022687868796841502, 0.020022212767742041, 0.017598866882138176, 0.016049142825882233, 0.014315287723394899]

#linkUsage3356Algo0= [0.054833174336510762, 0.05192011832015031, 0.04935369799132612, 0.042949062434510119, 0.047800603531019933, 0.040689177189703288, 0.035582514692468259, 0.03965129734173535, 0.032612816091914833, 0.03108405752471368, 0.03208345060165526, 0.020826398682313417, 0.022876944842413115, 0.021637782032582674, 0.017009070361486477, 0.013681320386623997, 0.0193598806020168]
#linkUsage3356Algo1= [0.050805433952698653, 0.057986718545065305, 0.052319565862517535, 0.052256877279119852, 0.042791728981004848, 0.042541363204452044, 0.045042328919353683, 0.037798837861387824, 0.037566662326992781, 0.029789567202906032, 0.029470913542976752, 0.027400233029388366, 0.025367544394865361, 0.028396240168553789, 0.019559521374102284, 0.017780467332095883, 0.014327552387557374]


#max7018 = max(linkUsage7018Algo0+ linkUsage7018Algo1)
maxLinkUsage = max(linkUsage7018Algo0 + linkUsage7018Algo1 + linkUsage3356Algo0 
               + linkUsage3356Algo1)
               
linkUsage7018Algo0 = np.array(linkUsage7018Algo0)/maxLinkUsage
linkUsage7018Algo1 = np.array(linkUsage7018Algo1)/maxLinkUsage

#max3356 = max(linkUsage3356Algo0+ linkUsage3356Algo1)
linkUsage3356Algo0 = np.array(linkUsage3356Algo0)/maxLinkUsage
linkUsage3356Algo1 = np.array(linkUsage3356Algo1)/maxLinkUsage


#
#max2914 = max(cost2914Algo0+ cost2914Algo1)
#cost2914Algo0 = np.array(cost2914Algo0)/max2914
#cost2914Algo1 = np.array(cost2914Algo1)/max2914


#########################Calculate reduced ratio############################
#########################Calculate reduced ratio############################
avg7018Algo0 = sum(linkUsage7018Algo0)/len(linkUsage7018Algo0)
avg7018Algo1 = sum(linkUsage7018Algo1)/len(linkUsage7018Algo1)
print 'link usage reduced ratio of 7018'
print 'reduced ratio = ', (avg7018Algo1 - avg7018Algo0)/avg7018Algo1


avg3356Alg0 = sum(linkUsage3356Algo0)/len(linkUsage3356Algo0)
avg3356Alg1 = sum(linkUsage3356Algo1)/len(linkUsage3356Algo1)

print 'link usage reduced ratio of 3356'
print 'reduced ratio = ', (avg3356Alg1 - avg3356Alg0)/avg3356Alg1

#######################################################################




# Comment
plt.plot(alpha, linkUsage7018Algo0, "kD-", label="SCM-base AS7018", markersize = 8, linewidth=2)
plt.plot(alpha, linkUsage7018Algo1, "ro--", label="Baseline AS7018", markersize = 8, linewidth=2)
plt.plot(alpha, linkUsage3356Algo0, "b^-",label="SCM-base AS3356", markersize = 8, linewidth=2)
plt.plot(alpha, linkUsage3356Algo1, "gv--",label="Baseline AS3356", markersize = 8, linewidth=2)

#plt.plot(ratio, cost2914Algo0, "g<-", label ="SCM-base AS2914", markersize = 8, linewidth=2)
#plt.plot(ratio, cost2914Algo1, "g>--", label ="Baseline AS2914", markersize = 8, linewidth=2)


plt.xticks(np.arange(0.6, 1.41, 0.1),('0.6', '0.7', '0.8', '0.9', '1.0', '1.1', \
'1.2', '1.3', '1.4'), fontsize = 14)
plt.yticks(np.arange(0, 1.1, 0.2), ('0', '0.2', '0.4', '0.6', '0.8', '1.0'), fontsize = 14)
plt.ylim(0, 1.05)
plt.xlim(0.6, 1.41)
plt.xlabel(r'$\alpha$ of Zipf',fontsize = 14) 
plt.ylabel('Normalized link usage',fontsize = 14) 

plt.legend(fontsize = 14)
#pylab.legend(loc='upper right')
plt.tight_layout()
plt.show()